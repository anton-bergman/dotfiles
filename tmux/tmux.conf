# Set the plugin manager path
set-environment -g TMUX_PLUGIN_MANAGER_PATH "~/.tmux/plugins"

# Bind '<leader> + r' to reload Tmux config
unbind-key r
bind-key r source-file ~/.config/tmux/tmux.conf

# Default terminal type for Tmux (256-color mode)
set -g default-terminal "tmux-256color"

# True color support for xterm-256color and screen-256color (inside Tmux)
set -ag terminal-overrides ",xterm-256color:RGB"
set -ga terminal-overrides ",screen-256color*:Tc"

# Tmux Theme - Nova
set -g @plugin 'o0th/tmux-nova'
set -g @nova-nerdfonts false # Disable nerdfonts icons in status bar
set -g @nova-pane-active-border-style "" # Active pane border color/style (empty = default)
set -g @nova-pane-border-style "" # Inactive pane border color/style (empty = default)
set -g @nova-status-style-bg "#272D38" # Inactive window bg-color
set -g @nova-status-style-fg "#d8dee9" # Inactive window text-color
set -g @nova-status-style-active-bg "#424750" # Active window bg-color
set -g @nova-status-style-active-fg "" # Active window text-color
set -g @nova-segment-session "#[bold]#S#[nobold]" # Left segment: shows session name
set -g @nova-segment-session-colors "#59C2FE #242B38" # Left segment colors: foreground background
set -g @nova-pane "#I#{?pane_in_mode, ❯ #{pane_mode},} ❯ #W" # Format for each window tab: index ❯ window-name (shows mode if active)
set -g @nova-rows 0 # Number of status bar rows
set -g @nova-segments-0-left "session" # Place "session" segment on the left
set -g @nova-segments-0-right "" # Right segment (empty)

# Position status bar at the top (default is bottom)
set-option -g status-position top

# Main status bar background color
set-option -g status-bg "#212121"

# Increase status-left-length to show full session names (default is 10)
set-option -g status-left-length 50

# Start indexing for windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Set <leader-key> to 'C-s' (Control + s)
unbind C-b
set-option -g prefix C-s
bind C-s send-prefix

# Enable mouse support, allowing for mouse interactions like selecting panes,
# resizing, and scrolling
set -g mouse on

# Use system clipboard for copy-paste
set-option -g set-clipboard on

# Split panes using <leader>h (horizontal split) and <leader>v (vertical split)
bind-key h split-window -v -c "#{pane_current_path}"
bind-key v split-window -h -c "#{pane_current_path}"

# Pane resizing with prefix + arrow keys
bind -r Up resize-pane -U 5
bind -r Down resize-pane -D 5
bind -r Left resize-pane -L 5
bind -r Right resize-pane -R 5

# Open new panes in current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# List of plugins
set-option -g @plugin "tmux-plugins/tpm"
set -g @plugin "christoomey/vim-tmux-navigator"
set -g @plugin 'o0th/tmux-nova'

# Open new panes in current directory
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Initialize Tmux plugin manager (keep this line at the very bottom of tmux.conf)
run "~/.tmux/plugins/tpm/tpm"
